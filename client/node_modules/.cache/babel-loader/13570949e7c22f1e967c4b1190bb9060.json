{"ast":null,"code":"var _jsxFileName = \"/Users/corrinepusillo/Downloads/axo2/new/axolotl/client/src/pages/Search.js\";\nimport React, { Component } from 'react';\nimport { Container, Card, Button, InputGroup, FormControl, ProgressBar } from 'react-bootstrap';\nimport { FaSearchLocation, FaCheckSquare } from 'react-icons/fa';\nimport API from \"../utils/API\";\nimport SearchResults from \"../components/SearchResults\";\nimport EventsResults from \"../components/EventsResults\";\nimport './search.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass Search extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      food: [],\n      events: [],\n      query: \"\",\n      lat: \"\",\n      lon: \"\",\n      searchMode: \"restaurants\"\n    };\n\n    this.handleButtonClick = () => {\n      console.log(this.state.latitude);\n\n      if (this.state.searchMode === \"restaurants\") {\n        this.loadRestaurants(this.state.latitude, this.state.longitude);\n      } else if (this.state.searchMode === \"events\") {\n        this.loadEvents(this.state.latitude, this.state.longitude);\n      }\n    };\n\n    this.handleEventButtonClick = () => {\n      this.setState({\n        searchMode: \"events\"\n      });\n      this.loadEvents();\n    };\n\n    this.handleRestaurantsButtonClick = () => {\n      this.setState({\n        searchMode: \"restaurants\"\n      });\n      this.loadRestaurants(this.state.latitude, this.state.longitude);\n    };\n\n    this.loadRestaurants = () => {\n      API.getRestaurants(this.state.lat, this.state.lon).then(res => {\n        this.setState({\n          food: res.data\n        }); //console.log(this.state.food)\n      }).catch(err => console.log(err));\n    };\n\n    this.loadEvents = () => {\n      API.getEvents().then(res => {\n        this.setState({\n          events: res.data\n        }); // console.log(this.state.events)\n      }).catch(err => console.log(err));\n    };\n\n    this.getLocation = async () => {\n      if (navigator.geolocation) {\n        navigator.geolocation.getCurrentPosition(this.showPosition);\n      } else {\n        console.log(\"Geolocation is not supported by this browser\");\n      }\n    };\n\n    this.showPosition = position => {\n      let lat = position.coords.latitude;\n      let lon = position.coords.longitude;\n      this.setGeoLocation(lat, lon);\n    };\n\n    this.setGeoLocation = (lat, lon) => {\n      this.setState({\n        lat: lat,\n        lon: lon\n      });\n      console.log(`Latitude: ${lat}`);\n      console.log(`Longitude: ${lon}`);\n    };\n  }\n\n  componentDidMount() {\n    this.getLocation();\n  } // ==== OnClick Handlers ==== //\n\n\n  render() {\n    // console.log(this.state.searchMode)\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        id: \"main-container\",\n        class: \"glassy-text\",\n        children: [/*#__PURE__*/_jsxDEV(Card, {\n          children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n            children: /*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"w-100 text-center mt-2\",\n              children: \"Search for local food & entertainment\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              onClick: this.handleRestaurantsButtonClick,\n              children: \"Restaurants\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: this.handleEventButtonClick,\n              children: \"Events\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(InputGroup, {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(FormControl, {\n                className: \"wrapper\",\n                placeholder: \"Tacos\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(InputGroup.Append, {\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"secondary\",\n                  onClick: this.handleButtonClick,\n                  children: /*#__PURE__*/_jsxDEV(FaSearchLocation, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 110,\n                    columnNumber: 18\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 107,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Card, {\n          className: \"mt-2 p-3\",\n          children: [this.state.food.length != 0 ? /*#__PURE__*/_jsxDEV(SearchResults, {\n            results: this.state.food\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 18\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Nothing to see here, try looking for some food!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 17\n          }, this), !this.state.lat && !this.state.lon ? /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Hold on, we're looking for your location\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(ProgressBar, {\n              variant: \"success\",\n              animated: true,\n              now: 100\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"green\",\n            children: [/*#__PURE__*/_jsxDEV(FaCheckSquare, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 38\n            }, this), \"  Ready to search!\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 17\n          }, this), this.state.events.length != 0 ? /*#__PURE__*/_jsxDEV(EventsResults, {\n            results: this.state.events\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 18\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Nothing to see here, try looking for something to do!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }, this)\n    }, void 0, false);\n  }\n\n}\n\nexport default Search;","map":{"version":3,"sources":["/Users/corrinepusillo/Downloads/axo2/new/axolotl/client/src/pages/Search.js"],"names":["React","Component","Container","Card","Button","InputGroup","FormControl","ProgressBar","FaSearchLocation","FaCheckSquare","API","SearchResults","EventsResults","Search","state","food","events","query","lat","lon","searchMode","handleButtonClick","console","log","latitude","loadRestaurants","longitude","loadEvents","handleEventButtonClick","setState","handleRestaurantsButtonClick","getRestaurants","then","res","data","catch","err","getEvents","getLocation","navigator","geolocation","getCurrentPosition","showPosition","position","coords","setGeoLocation","componentDidMount","render","length"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Container, Card, Button, InputGroup, FormControl, ProgressBar } from 'react-bootstrap'\nimport { FaSearchLocation, FaCheckSquare } from 'react-icons/fa'\nimport API from \"../utils/API\"\nimport SearchResults from \"../components/SearchResults\"\nimport EventsResults from \"../components/EventsResults\"\nimport './search.css';\n\nclass Search extends Component {\n    state = { \n        food: [],\n        events: [],\n        query: \"\",\n        lat: \"\",\n        lon: \"\",\n        searchMode: \"restaurants\", \n    }\n\n    componentDidMount(){\n        this.getLocation();\n    }\n    \n    // ==== OnClick Handlers ==== //\n\n    handleButtonClick = () => {\n        console.log(this.state.latitude)\n\n       if (this.state.searchMode === \"restaurants\"){\n         this.loadRestaurants(this.state.latitude, this.state.longitude)\n        }\n      else if  (this.state.searchMode === \"events\"){\n        this.loadEvents(this.state.latitude, this.state.longitude)\n      }}\n        \n    \n    \n    handleEventButtonClick = () => {\n        this.setState({searchMode: \"events\"})\n        this.loadEvents()\n    }\n\n    handleRestaurantsButtonClick = () => {\n        this.setState({searchMode: \"restaurants\"})\n        this.loadRestaurants(this.state.latitude, this.state.longitude)\n    }\n    // ==== API CALLS ==== //\n    \n    // ZOMATO API CALL\n    loadRestaurants = () => {\n        API.getRestaurants(this.state.lat, this.state.lon)\n          .then(res => {this.setState({food: res.data})\n              //console.log(this.state.food)\n        }).catch(err => console.log(err)) };\n\n     loadEvents = () => {\n         API.getEvents()\n         .then (res=> {this.setState({events: res.data}) \n                // console.log(this.state.events)\n         }).catch(err =>console.log(err))\n};\n\n    // ==== GEOLOCATION METHODS ==== //\n    \n    getLocation = async () => {\n        if (navigator.geolocation) {\n            navigator.geolocation.getCurrentPosition(this.showPosition);\n        } else {\n            console.log(\"Geolocation is not supported by this browser\")\n        }\n    }\n\n    showPosition = (position) => {\n        let lat = position.coords.latitude;\n        let lon = position.coords.longitude;\n        this.setGeoLocation(lat,lon)\n    }   \n\n    setGeoLocation = (lat, lon) => {\n        this.setState({lat: lat, lon: lon})\n        console.log(`Latitude: ${lat}`);\n        console.log(`Longitude: ${lon}`);\n    }\n        \n\nrender(){\n    // console.log(this.state.searchMode)\n\n    return (\n        <>\n            <Container id=\"main-container\" class=\"glassy-text\" >\n            <Card>\n                <Card.Header>\n                    <h2 className=\"w-100 text-center mt-2\">Search for local food & entertainment</h2>\n                </Card.Header>\n                <Card.Body>\n                <Button onClick={this.handleRestaurantsButtonClick}>\n                    Restaurants\n                </Button>\n                <Button onClick={this.handleEventButtonClick}>\n                    Events\n                </Button>\n                <InputGroup className=\"mb-3\">\n                <FormControl className=\"wrapper\"\n                placeholder=\"Tacos\"\n                />\n                <InputGroup.Append>\n                <Button \n                    variant=\"secondary\"\n                    onClick={this.handleButtonClick}\n                ><FaSearchLocation />\n                </Button>\n                </InputGroup.Append>\n                </InputGroup>\n                </Card.Body>\n\n            </Card>\n\n            <Card className=\"mt-2 p-3\">\n            {this.state.food.length != 0 ? (\n                 <SearchResults \n                     results={this.state.food} \n                 /> \n            ) : (\n                <div>\n                <p>Nothing to see here, try looking for some food!</p>\n\n            </div>\n            )}\n            {!this.state.lat && !this.state.lon ? (\n                <div>\n                <p>Hold on, we're looking for your location</p>\n                <ProgressBar variant=\"success\" animated now={100} />\n                </div>\n            ) : (\n                <p className=\"green\"><FaCheckSquare/>  Ready to search!</p>\n            )}\n            {this.state.events.length !=0 ? (\n                 <EventsResults \n                     results={this.state.events} \n                 /> \n            ) : (\n                <div>\n                <p>Nothing to see here, try looking for something to do!</p>\n\n            </div>\n            )}\n            \n            </Card>\n            </Container>\n\n        </>\n    )\n}}\n\nexport default Search\n"]},"metadata":{},"sourceType":"module"}